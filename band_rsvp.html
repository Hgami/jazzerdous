<!DOCTYPE html>

<!-- Starting HTML  -->
<html lang="en">

<!-- Head section -->
<head>
  <title>Jazzerdous</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Acme" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src='https://js.stripe.com/v2/' type='text/javascript'></script>
  
    </head>

<style>

/* Styling for html document */   
  body {
      font: 400 15px/1.8 Lato, sans-serif;
  }
  h3, h4 {
      margin: 10px 0 30px 0;
      letter-spacing: 10px;      
      font-size: 20px;
      color: deeppink !important;

  }
  .container {
      padding: 10px 20px;
  }
  . {
      padding: 85px 100px;
  }
/* Styling for navigation */
  .navbar{
      /*font-family: Montserrat, sans-serif;*/
      margin-bottom: 0;
      background-color: #2d2d30;
      border: 0;
      font-size: 11px !important;
      letter-spacing: 4px;
      opacity: 0.9;
  }
  .navbar li a, .navbar { 
      color: #d5d5d5 !important;
  }
  .navbar-nav li a:hover {
      color: deeppink !important;
  }
  .navbar-brand {
      color: deeppink !important;
 }
  .navbar-nav li.active a {
      color: #fff !important;
      background-color: #29292c !important;
  }
  .navbar-default .navbar-toggle {
      border-color: transparent;
  }
  .open .dropdown-toggle {
      color: #fff;
      background-color: #555 !important;
  }
  .dropdown-menu li a {
    color: #555 !important;
    font-size: 11px !important;
  }
    
.submit-button {
  margin-top: 10px;
}  
  .rsvp {
       padding: 0px 0px 2px 0px;
       text-align: center;
  }     
    .col-md-8,.col-md-4{
        text-align:left;
    }
     
.agenda .agenda-date { width: 170px; }
.agenda .agenda-date .dayofmonth {
  width: 60px;
  font-size: 36px;
  line-height: 36px;
  float: left;
  text-align: right;
  margin-right: 45px; 
      }
.agenda .agenda-date .shortdate {
  font-size: .80em; 
}
.agenda .agenda-time { width: 100px; }    
.page-footer li a:hover {color: white;}
</style>
<body>

<!-- Success RSVP -->
<div class="modal fade" id="successPage" role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">TICKETS BOOKED!!</h4>
        </div>
        <div class="modal-body">
          <p> Congrats! your seat has been reserved!</p>
          <p> Conformation # : Zyd12^sf*6</p>
          <p> Looking forward to see you! Love,Jazzerdous!</p>          
        </div>
        <div class="modal-footer">
            <a href="band_event.html" class="btn btn-success" role="button">Events Page</a>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>    
    
<!--Navigation Bar-->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="band_event.html" style="font color: deeppink">Jazzerdous</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="home.html#homePage">Home</a></li>
        <li><a href="home.html#band">Band</a></li>
        <li><a href="home.html#instrument">Instruments</a></li>
        <li><a href="home.html#contact">Contact</a></li>
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Events<span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#local">Local Events</a></li>
                    <li><a href="#events">Upcoming Events</a></li>
                </ul>
        </li>  
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Music<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="band_music.html#songs">Songs</a></li>
            <li><a href="home.html#video">Videos</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--Events Detail Information -->

<!-- Contact Section -->
<div class="jumbotron ">
  <h1 class="display-4" style="text-align: center;color: deeppink">EVENT DETAILS!</h1>
    <h2 class="display-4" style="text-align: center;color: deeppink">Book Now!</h2>
    <div class="row">
                <div class="col-md-4"></div>
        <div class="col-md-4">
            <br>
                <div class="agenda" style="text-align: center">
                    <div class="table-responsive">
                        <table class="table table-condensed table-bordered">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Single event in a single day -->
                                <tr>
                                    <td class="agenda-date" class="active" rowspan="1">
                                        <div class="dayofmonth">14th </div>
                                        <div class="dayofweek">Monday</div>
                                        <div class="shortdate text-muted">Dec, 2018</div>
                                    </td>
                                    <td class="agenda-time">
                                        8:00 PM
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
            </div> 
      </div>
        <div class="col-md-4"></div>

      </div>
    <h4 style="text-align: center">LOCATION : <a href="https://www.google.com/maps/place/Wally's+Cafe+Jazz+Club/@42.3407113,-71.0844217,17z/data=!3m1!4b1!4m5!3m4!1s0x89e37a16e124196b:0xbcd5ed7457235849!8m2!3d42.3407074!4d-71.082233" target="_blank">Wally's Cafe!</a></h4>
     </div>

    
<!-- RSVP Details -->
<div class ="rsvp">
<div class="container">
    <div class="row">
        <div class="col-md-8">
        <h4>PERSONAL DETAILS</h4>
        </div>
        <div class="col-md-4">
        <h4>CARD  DETAILS</h4>
        </div>

    </div>
</div>    
</div>    

<div class="rsvp">
<div class="container">
    <div class='row'>
    <form>
     <div class="col-md-8">
      <div class="row">
        <div class="col-sm-6 form-group">
            <label>First Name</label>
            <input class="form-control" id="fname" name="fname" placeholder="First Name" type="text" required>
        </div>
        <div class="col-sm-6 form-group">
         <label>Last Name</label>
          <input class="form-control" id="lname" name="lname" placeholder="Last Name" type="text" required>
        </div>
      </div>
        
          <div class="row">
        <div class="col-sm-6 form-group">
            <label>Email Id</label>
            <input class="form-control" id="email" name="email" placeholder="Email Id" type="text" required>
        </div>
        <div class="col-sm-6 form-group">
         <label>Mobile Number</label>
          <input class="form-control" id="number" name="number" placeholder="Mobile Number" type="number"  required>
        </div>
      </div>
         
             <div class="row">
        <div class="col-sm-6 form-group">
            <label>Total Number of People</label>
            <input class="form-control" id="people" name="people" placeholder="Total Adults" type="number" required>
        </div>
        <div class="col-sm-6 form-group">
         <label>Special Needs</label>
          <input class="form-control" id="needs" name="needs" placeholder="Special Needs" type="text" required>
        </div>
      </div>
      <div class="row">
          <div class="col-md-10 error form-group hide" id="errMsg" >
          <div class='alert-danger alerts'>
                
                </div>
          </div>
        <div class="col-md-2 form-group">
        <button type="submit" class="btn btn-info btn-sm" style ="float: right " id="send" >Fill details</button>
        </div>
      </div>
      
    </div>
        </form>
        <div class='col-md-4'>
          <form class="require-validation" data-cc-on-file="false" data-stripe-publishable-key="pk_bQQaTxnaZlzv4FnnuZ28LFHccVSaj" id="payment-form">
            <div class='form-row'>
              <div class='col-xs-12 form-group required'>
                <label class='control-label'>Name on Card</label>
                <input class='form-control' size='4' type='text'>
              </div>
            </div>
            <div class='form-row'>
              <div class='col-xs-12 form-group card required'>
                <label class='control-label'>Card Number</label>
                <input autocomplete='off' class='form-control card-number' size='20' type='text'>
              </div>
            </div>
            <div class='form-row'>
              <div class='col-xs-4 form-group cvc required'>
                <label class='control-label'>CVC</label>
                <input autocomplete='off' class='form-control card-cvc' placeholder='ex. 311' size='4' type='text'>
              </div>
              <div class='col-xs-4 form-group expiration required'>
                <label class='control-label'>Expiration</label>
                <input class='form-control card-expiry-month' placeholder='MM' size='2' type='text'>
              </div>
              <div class='col-xs-4 form-group expiration required'>
                <label class='control-label'> Year</label>
                <input class='form-control card-expiry-year' placeholder='YYYY' size='4' type='text'>
              </div>
            </div>
            <div class='form-row'>
              <div class='col-md-12'>
                <div class='form-control total btn btn-info'>
                  Total:
                  <span class='amount'>$75</span>
                </div>
              </div>
            </div>
            <div class='form-row'>
              <div class='col-md-12 form-group'>
                <button class='form-control btn btn-primary submit-button' type='submit'>Pay »</button>
              </div>
            </div>
            <div class='form-row'>
              <div class='col-md-12 error form-group hide'>
                <div class='alert-danger alert'>
                  Please correct the errors and try again.
                </div>
              </div>
            </div>
          </form>
        </div>
    </div>
</div>
</div>

<!-- Footer -->
<footer class="page-footer special-color-dark pt-4" style="background-color:#2d2d30">
    <br>
      <!-- Social buttons -->
      <ul class="list-unstyled list-inline text-center">
        <li class="list-inline-item">
          <a class="btn-floating btn-fb mx-1">
            <i class="fa fa-facebook"> </i>
          </a>
        </li>
        <li class="list-inline-item">
          <a class="btn-floating btn-tw mx-1">
            <i class="fa fa-instagram"> </i>
          </a>
        </li>
      </ul>
    <div class="footer-copyright text-center py-3"><a href="#Top"> Jazzerdous</a>
    </div>
  </footer>    
    
    
<script>
    
function validateEmail(sEmail) {
    var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    if (filter.test(sEmail)) {
       return true;
    }
    else { 
    return false;
    }
}
     
function validateNumber(sNumber) {
    if (sNumber.length == 10) {
        return true;
    }
    else {
        return false;
    }
}
    
function validateName(sName) {
    if(sName == "" || sName == null){
        return false;
    }
    else {
        return true;
    }
}
   
$('#send').click(function(){
     
         var email = document.getElementById('email').value;
         var sname = document.getElementById('fname').value;
         var sNumber = document.getElementById('number').value;

            if(!validateEmail(email)){
                var email_error ="Please enter valid Email Address"
            }
            else {
               var email_error="No Errors in email"
               var count = 1
            }
           if(!validateName(sname)){
                var name_error ="First Name is required"
            }else {
                 var name_error ="No Error in First Name"
                 count = count + 1
            }
            if(!validateNumber(sNumber)){
                var number_error ="Mobile number should be of 10 digits"
            }else{
                 var number_error =" No Error in Mobile Number"
                 count = count + 1
            }
        
        if(count == 3){
            return true;
    }else{
        $( ".alerts" ).empty();   
        document.getElementById("errMsg").classList.toggle("show");
        $('.alerts').append("<ul id='errorList'></ul>");
        $("#errorList").append("<li>"+email_error+"</li>");
        $("#errorList").append("<li>"+name_error+"</li>");
        $("#errorList").append("<li>"+number_error+"</li>");
        return false;
    }}); 
    
$(function() {
  $('form.require-validation').bind('submit', function(e) {
    var $form         = $(e.target).closest('form'),
        inputSelector = ['input[type=email]', 'input[type=password]',
                         'input[type=text]', 'input[type=file]',
                         'textarea'].join(', '),
        $inputs       = $form.find('.required').find(inputSelector),
        $errorMessage = $form.find('div.error'),
        valid         = true;

    $errorMessage.addClass('hide');
    $('.has-error').removeClass('has-error');
    $inputs.each(function(i, el) {
      var $input = $(el);
      if ($input.val() === '') {
        $input.parent().addClass('has-error');
        $errorMessage.removeClass('hide');
        e.preventDefault();
      }
    });
  });
});

$(function() {
  var $form = $("#payment-form");

  $form.on('submit', function(e) {
    if (!$form.data('cc-on-file')) {
      e.preventDefault();
      Stripe.setPublishableKey($form.data('stripe-publishable-key'));
      Stripe.createToken({
        number: $('.card-number').val(),
        cvc: $('.card-cvc').val(),
        exp_month: $('.card-expiry-month').val(),
        exp_year: $('.card-expiry-year').val()
      }, stripeResponseHandler);
    }
  });

  function stripeResponseHandler(status, response) {
    if (response.error) {
      $('.error')
        .removeClass('hide')
        .find('.alert')
        .text(response.error.message);  
    } else {
        if(confirm('Do you want to proceed ? ')){
        $('#successPage').modal('show');
        }else{
            return false;
        }
       }   
    }
 });

</script>    
</body>

</html>